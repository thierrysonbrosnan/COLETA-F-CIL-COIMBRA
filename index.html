<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Lista de Exames</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 600px; margin: 20px auto; }
    #admin-area { margin-top: 20px; border: 1px solid #ccc; padding: 10px; display: none; }
    .exame { border-bottom: 1px solid #ddd; padding: 10px 0; }
    label { display: block; margin: 6px 0 2px; }
    input[type="text"], textarea { width: 100%; padding: 5px; box-sizing: border-box; }
    button { margin-top: 10px; padding: 6px 12px; }
  </style>
</head>
<body>

  <h1>Lista de Exames</h1>

  <button id="btnAdmin">Entrar no modo administrador</button>
  <button id="btnSairAdmin" style="display:none;">Sair do modo administrador</button>

  <div id="exames-lista"></div>

  <div id="admin-area">
    <h2>Adicionar novo exame</h2>
    <label for="nome">Nome:</label>
    <input type="text" id="nome" />

    <label for="preparo">Preparo:</label>
    <input type="text" id="preparo" />

    <label for="horario">Horário:</label>
    <input type="text" id="horario" />

    <label for="explicacao">Explicação:</label>
    <textarea id="explicacao" rows="3"></textarea>

    <label for="endereco">Endereço:</label>
    <input type="text" id="endereco" />

    <label for="aviso">Aviso:</label>
    <input type="text" id="aviso" />

    <button id="btnAddExame">Adicionar Exame</button>
  </div>

  <script>
    const EXAMES_KEY = "lista_exames";
    const senhaAdmin = "1009";  // senha para entrar no modo admin (pode alterar)

    let exames = [
      {
        nome: "Hemograma Completo",
        preparo: "Jejum de 8 horas",
        horario: "Manhã, preferencialmente",
        explicacao: "Exame que avalia os componentes do sangue, como hemácias, leucócitos e plaquetas.",
        endereco: "Laboratório Central - Rua das Flores, 123",
        aviso: "Evitar esforço físico intenso antes do exame."
      },
      {
        nome: "Colesterol Total",
        preparo: "Jejum de 12 horas",
        horario: "Manhã",
        explicacao: "Avalia os níveis de colesterol no sangue para prevenção de doenças cardíacas.",
        endereco: "Clínica Saúde - Avenida Brasil, 456",
        aviso: ""
      }
    ];

    // Tenta carregar exames do localStorage
    const examesSalvos = JSON.parse(localStorage.getItem(EXAMES_KEY));
    if (examesSalvos && examesSalvos.length > 0) {
      exames = examesSalvos;
    } else {
      localStorage.setItem(EXAMES_KEY, JSON.stringify(exames));
    }

    const btnAdmin = document.getElementById("btnAdmin");
    const btnSairAdmin = document.getElementById("btnSairAdmin");
    const adminArea = document.getElementById("admin-area");
    const examesLista = document.getElementById("exames-lista");
    const btnAddExame = document.getElementById("btnAddExame");

    // Função para renderizar os exames na tela
    function renderizarExames() {
      examesLista.innerHTML = "";
      exames.forEach((exame, i) => {
        const div = document.createElement("div");
        div.className = "exame";
        div.innerHTML = `
          <h3>${exame.nome}</h3>
          <p><strong>Preparo:</strong> ${exame.preparo}</p>
          <p><strong>Horário:</strong> ${exame.horario}</p>
          <p><strong>Explicação:</strong> ${exame.explicacao}</p>
          <p><strong>Endereço:</strong> ${exame.endereco}</p>
          ${exame.aviso ? `<p><strong>Aviso:</strong> ${exame.aviso}</p>` : ""}
        `;
        examesLista.appendChild(div);
      });
    }

    // Entrar no modo admin (com prompt de senha)
    btnAdmin.onclick = () => {
      const senha = prompt("Digite a senha do administrador:");
      if (senha === senhaAdmin) {
        adminArea.style.display = "block";
        btnAdmin.style.display = "none";
        btnSairAdmin.style.display = "inline-block";
      } else {
        alert("Senha incorreta!");
      }
    };

    // Sair do modo admin
    btnSairAdmin.onclick = () => {
      adminArea.style.display = "none";
      btnAdmin.style.display = "inline-block";
      btnSairAdmin.style.display = "none";
      limparCampos();
    };

    // Limpar campos do formulário
    function limparCampos() {
      document.getElementById("nome").value = "";
      document.getElementById("preparo").value = "";
      document.getElementById("horario").value = "";
      document.getElementById("explicacao").value = "";
      document.getElementById("endereco").value = "";
      document.getElementById("aviso").value = "";
    }

    // Adicionar novo exame (só no modo admin)
    btnAddExame.onclick = () => {
      const novoExame = {
        nome: document.getElementById("nome").value.trim(),
        preparo: document.getElementById("preparo").value.trim(),
        horario: document.getElementById("horario").value.trim(),
        explicacao: document.getElementById("explicacao").value.trim(),
        endereco: document.getElementById("endereco").value.trim(),
        aviso: document.getElementById("aviso").value.trim()
      };

      if (!novoExame.nome) {
        alert("O nome do exame é obrigatório.");
        return;
      }

      exames.push(novoExame);
      localStorage.setItem(EXAMES_KEY, JSON.stringify(exames));
      renderizarExames();
      limparCampos();
      alert("Exame adicionado com sucesso!");
    };

    // Inicializa a página renderizando exames
    renderizarExames();
  </script>

</body>
</html>



